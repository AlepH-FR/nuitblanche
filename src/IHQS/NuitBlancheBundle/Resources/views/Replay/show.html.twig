{% extends 'IHQSNuitBlancheBundle::layout_standard.html.twig' %}

{% block title %}{{ "Replay" | trans }} : {{ replay.game.team1Name }} vs {{ replay.game.team2Name }} - {{ replay.game.date.format('d m Y') }}{% endblock %}

{% block content %}
<h2>{{ "Replay" | trans }}</h2>
<ul class="action">
    <li>
        <a href="{{ url('replay_file_download', { "replay_id" : replay.id }) }}">
            <img class="flag" src="{{ asset('bundles/ihqsnuitblanche/images/ico/save.png') }}" alt="download">
            {{ "Download" | trans }}
            ({{ replay.size }}Ko - {{ replay.downloads }} {{ "downloads" | trans }})
        </a>
    </li>
</ul>

<div class="replay-info">
    <div class="players">
        {% for player in replay.game.team1 %}
        <div class="team1">
            <img class="race" src="{{ asset('bundles/ihqsnuitblanche/images/ico/' ~ player.race ~ '_fond.png') }}" />

            <p>
                <span class="player" style="color: #{{ player.color }};">{{ player.name }}</span>
                <br />
                <span><strong>apm</strong> {{ player.apm }}</span>
            </p>
        </div>
        {% endfor %}
        <div class="versus">
                <span>vs</span>
        </div>
        {% for player in replay.game.team2 %}
        <div class="team2">
            <p>
                <span class="player" style="color: #{{ player.color }};">{{ player.name }}</span>
                <br />
                <span><strong>apm</strong> {{ player.apm }}</span>
            </p>

            <img class="race" src="{{ asset('bundles/ihqsnuitblanche/images/ico/' ~ player.race ~ '_fond.png') }}" />
        </div>
        {% endfor %}
    </div>
    <div class="spacer"></div>
    <hr />
    <div class="game-info">
        <h3>{{ "Game information" | trans }}</h3>
        <ul class="info">
            <li>
                <span class="stat">{{ "map" | trans }}</span>
                <span class="data">{{ replay.game.map }}</span>
            </li>
            <li>
                <span class="stat">{{ "length" | trans }}</span>
                <span class="data">{{ replay.length }}</span>
            </li>
            <li>
                <span class="stat">{{ "date" | trans }}</span>
                <span class="data">{{ replay.game.date.format('d m Y') }}</span>
            </li>
        </ul>
        <ul class="info">
            <li>
                <span class="stat">{{ "obs" | trans }}</span>
                <span class="data obs" title="{{ replay.obs }}">{{ replay.obs }}</span>
            </li>
            <li>
                <span class="stat">{{ "realm" | trans }}</span>
                <span class="data">{{ replay.realm }}</span>
            </li>
            <li>
                <span class="stat">{{ "version" | trans }}</span>
                <span class="data">{{ replay.version }}</span>
            </li>
        </ul>
    </div>
    <div class="spacer"></div>
    <hr />
    <div class="apm-chart">
        <h3>{{ "APM Chart" | trans }}</h3>
        <br />
        <img class="chart" src="{{ replay.chart }}" />
    </div>
    <div class="spacer"></div>
</div>
{% endblock %}